"use strict";function _createForOfIteratorHelper(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==o.return||o.return()}finally{if(a)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var slides,container,dots,ih,dotAnim,currentDevice,mouseStart,ProjectsWorldMap,oldSlide=0,activeSlide=0,offsets=[],offsetStart=0,currentMouseMouseDistance=0,mouseMouseDistanceThreshold=30,direction="NEXT",devicesEvents={DESKTOP:{mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup"},MOBILE:{mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"}};function movingWaves(){var e=$(".c-home__bg-waves svg:nth-child(odd)"),t=$(".c-home__bg-waves svg:nth-child(even)");$(document).on("mousemove",(function(o){parallaxIt(o,[e],-40),parallaxIt(o,[t],40)}))}function parallaxIt(e,t,o){try{var n=$(document),i=e.pageX-n.offset().left;gsap.to(t,{duration:1,x:(i-n.width()/4)/n.width()*o})}catch(e){}}function configDropDowns(){var e=$("#u-form-container--js");$("#c-foot-print__dropdown").select2({width:"resolve",dropdownParent:$("#foot-print-nav"),minimumResultsForSearch:1/0}),$("#form-project-discovery").select2({width:"null",dropdownParent:e,minimumResultsForSearch:1/0}),$("#form-content").select2({width:"null",dropdownParent:e,minimumResultsForSearch:1/0})}function configSlider(){var e=$(".c-companies__slider-wrapper");e.on("init",(function(e,t){var o=$(t.$slides[t.currentSlide]),n=o.next(),i=o.prev();i.addClass("slick-sprev"),n.addClass("slick-snext"),o.removeClass("slick-snext").removeClass("slick-sprev"),t.$prev=i,t.$next=n})).on("beforeChange",(function(e,t,o,n){console.log("beforeChange");var i=$(t.$slides[n]);console.log(t.$prev,t.$next),t.$prev.removeClass("slick-sprev"),t.$next.removeClass("slick-snext");var r=i.next(),s=i.prev();s.prev(),s.next(),s.addClass("slick-sprev"),r.addClass("slick-snext"),t.$prev=s,t.$next=r,i.removeClass("slick-next").removeClass("slick-sprev")})),e.slick({speed:400,arrows:!1,dots:!0,focusOnSelect:!0,infinite:!0,centerMode:!0,slidesPerRow:1,slidesToShow:1,slidesToScroll:1,swipe:!0,customPaging:function(){return""}})}function loadProjectsWorldMap(){"loading"!==document.readyState&&(ProjectsWorldMap={props:{PROJECTS:bugloosJS.projects,svgUniqKey:"data-id",projectsNodeList:document.getElementsByClassName("data-point"),timelineCircleElem:".c-time-line-box .date .time-line-circle",tippyInstances:tippy(".data-point",{content:"",allowHTML:!0,animation:"perspective",theme:"mapPopover",hideOnClick:"click",arrow:"",trigger:"mouseenter click",appendTo:document.getElementsByClassName("c-foot-print__world-map")[0],interactive:!0,onTrigger:function(e,t){tippy.hideAll();var o=t.target.attributes[ProjectsWorldMap.props.svgUniqKey].value,n=ProjectsWorldMap.methods.findProjectById(o);e.setContent(ProjectsWorldMap.methods.getCountryPopover(n))}})},methods:{findProjectNodeById:findProjectNodeById,toggleProjectsVisibility:toggleProjectsVisibility,findProjectById:findProjectById,getCountryPopover:getCountryPopover,findTippyInstanceById:findTippyInstanceById,resetTimeline:resetTimeline,generateProjectsDropdownOptions:generateProjectsDropdownOptions,uniq:uniq,sortProjectsByTime:sortProjectsByTime,generateProjectTimeLine:generateProjectTimeLine},init:function(){ProjectsWorldMap.methods.generateProjectTimeLine(),ProjectsWorldMap.methods.generateProjectsDropdownOptions(),ProjectsWorldMap.methods.toggleProjectsVisibility()}}).init()}function loadParticles(){particlesJS.load("particles-js",bugloosJS.particleJsonURL),particlesJS.load("particles-js-1",bugloosJS.particleJsonURL),particlesJS.load("particles-js-2",bugloosJS.particleJsonURL),particlesJS.load("particles-js-3",bugloosJS.particleJsonURL),particlesJS.load("particles-js-4",bugloosJS.particleJsonURL),particlesJS.load("particles-js-5",bugloosJS.particleJsonURL)}function createNevDot(){for(var e=0;e<slides.length;e++){var t=document.createElement("div");t.className="dot",t.index=e,t.addEventListener("click",slideAnim),dots.appendChild(t),offsets.push(-slides[e].offsetTop)}}function slideAnim(e,t,o){if(oldSlide=activeSlide,t)fnIsDragging(o);else{if("dragger"===this.id?activeSlide=offsets.indexOf(this.endY):noDraggingNoIdDragger(this.id,this.className,this.index,e),checkPastEndOrBeginningSlide(),oldSlide===activeSlide)return;"dragger"!==this.id&&idIsNotDragger()}}function tweenDot(){gsap.set(dotAnim,{time:Math.abs(gsap.getProperty(container,"y")/ih)+1})}function newSize(){offsets=[],ih=window.innerHeight,gsap.set("#panelWrap",{height:slides.length*ih}),gsap.set(slides,{height:ih});var e,t=_createForOfIteratorHelper(slides);try{for(t.s();!(e=t.n()).done;){var o=e.value;offsets.push(-o.offsetTop)}}catch(e){t.e(e)}finally{t.f()}gsap.set(container,{y:offsets[activeSlide]})}function noDraggingNoIdDragger(e,t,o,n){gsap.isTweening(container)||("downArrow"===e||"upArrow"===e?"downArrow"===e?activeSlide+=1:activeSlide-=1:"dot"===t?activeSlide=o:n.deltaY>0?activeSlide+=1:activeSlide-=1)}function checkPastEndOrBeginningSlide(){activeSlide=(activeSlide=activeSlide<0?0:activeSlide)>slides.length-1?slides.length-1:activeSlide}function idIsNotDragger(){gsap.to(container,{y:offsets[activeSlide],onUpdate:tweenDot,duration:1,ease:"power1.out"})}function fnIsDragging(e){gsap.to(container,{y:offsets[e],onUpdate:tweenDot,duration:1,ease:"power1.out"})}function getPageY(e){return"DESKTOP"===currentDevice?e.pageY:e.touches[0].pageY}function mouseupHandler(e){currentMouseMouseDistance>mouseMouseDistanceThreshold&&(activeSlide<0?activeSlide=0:activeSlide>slides.length-1&&(activeSlide=slides.length-1),"NEXT"===direction&&activeSlide<=slides.length-1?slideAnim(e,!0,activeSlide+=1):activeSlide>0&&slideAnim(e,!0,activeSlide-=1)),window.document.removeEventListener(devicesEvents[currentDevice].mouseup,mouseupHandler),currentMouseMouseDistance=0}function navDotAnimation(){gsap.set(".dots",{yPercent:-50}),gsap.set(".dot",{marginBottom:"25"}),(dotAnim=gsap.timeline({paused:!0})).to(".dot",{stagger:{each:1,yoyo:!0,repeat:1},scale:2.1,rotation:.1,backgroundColor:"transparent",ease:"none"},.5),dotAnim.time(1),gsap.set(".hideMe",{opacity:1}),window.addEventListener("wheel",slideAnim)}function configPopups(){$(".btn-booking").on("click",(function(e){e.preventDefault(),e.stopPropagation(),$("#booking-popup").fadeIn(500)})),$("#open-success-msg").on("click",(function(e){e.preventDefault(),e.stopPropagation(),$("#success-msg").fadeIn(500)})),$("#close-success-msg").on("click",(function(){$("#success-msg").fadeOut(500),$("#booking-popup").fadeOut(500)}))}function musicHowler(){$((function(){var e=new Howl({src:["piano.mp3"],volume:.8,loop:!0});$(".c-icons__sound div").on("click",(function(){return $(".c-icons__sound div span").toggleClass("music-animation"),e.playing()?e.pause():e.play()}))}))}function accardionContactForm(){window.screen.width<1024&&showContactForm(),$(".o-form-container h5").on("click",(function(){$(".u-form--wrap").addClass("reveal-form").removeClass("hide-form"),$(this).css("border-radius","1.5rem 1.5rem 0 0"),$(".o-contact__wrapper").addClass("hide-form"),$(".o-contact-module h5").css("border-radius","1.5rem")})),$(".o-contact-module h5").on("click",(function(){showContactForm()}))}function showContactForm(){$(".o-contact__wrapper").addClass("reveal-form").removeClass("hide-form"),$(".o-contact-module h5").css("border-radius","1.5rem 1.5rem 0 0"),$(".u-form--wrap").addClass("hide-form"),$(".o-form-container h5").css("border-radius","1.5rem")}function configElements(){slides=document.querySelectorAll(".c-page-sections--js"),container=document.querySelector("#panelWrap"),dots=document.querySelector(".dots"),ih=document.innerHeight,document.querySelector("#downArrow").addEventListener("click",slideAnim)}function homeSlidesDragging(){["DESKTOP","MOBILE"].forEach((function(e){var t;t=e,$("img").on("dragstart",(function(e){e.preventDefault()})),window.document.addEventListener(devicesEvents[t].mousedown,(function(e){currentMouseMouseDistance=0,currentDevice=t,window.document.body.style.position="relative",offsetStart=""===window.document.body.style.top?0:parseInt(window.window.document.body.style.top.slice(0,-2)),mouseStart=getPageY(e),window.document.addEventListener(devicesEvents[t].mouseup,(function(e){mouseupHandler(e)}))}))}))}function findProjectNodeById(e){var t,o=_createForOfIteratorHelper(ProjectsWorldMap.props.projectsNodeList);try{for(o.s();!(t=o.n()).done;){var n=t.value;if(n.attributes[ProjectsWorldMap.props.svgUniqKey].value===e)return n}}catch(e){o.e(e)}finally{o.f()}}function toggleProjectsVisibility(){ProjectsWorldMap.props.PROJECTS.forEach((function(e){var t=ProjectsWorldMap.methods.findProjectNodeById(e.id);t.classList.remove("hide","show"),t.classList.add(e.active?"show":"hide")}))}function findProjectById(e){return ProjectsWorldMap.props.PROJECTS.find((function(t){return t.id===e}))}function getCountryPopover(e){return'<a href="'+e.link+'"><img alt="" src="'+e.img+'"/><p>'+e.time+" | "+e.title+"</p></a>"}function findTippyInstanceById(e){return ProjectsWorldMap.props.tippyInstances.find((function(t){return t.reference.attributes[ProjectsWorldMap.props.svgUniqKey].value===e}))}function resetTimeline(){document.querySelectorAll(ProjectsWorldMap.props.timelineCircleElem).forEach((function(e){e.classList.remove("active")}))}function generateProjectsDropdownOptions(){var e=document.getElementById("c-foot-print__dropdown");ProjectsWorldMap.props.PROJECTS.forEach((function(t){var o=document.createElement("option");o.text=t.title,o.value=t.id,e.appendChild(o)})),$("#c-foot-print__dropdown").on("select2:close",(function(){tippy.hideAll(),ProjectsWorldMap.props.PROJECTS.forEach((function(e){e.active=!0})),ProjectsWorldMap.methods.resetTimeline(),ProjectsWorldMap.methods.toggleProjectsVisibility();var e=$("#c-foot-print__dropdown")[0].value,t=ProjectsWorldMap.methods.findTippyInstanceById(e);t.setProps({allowHTML:!0,animation:"scale",arrow:!0});var o=ProjectsWorldMap.methods.findProjectById(e);t.setContent(ProjectsWorldMap.methods.getCountryPopover(o)),t.show()}))}function uniq(e){return e.map((function(e){return e.time})).filter((function(e,t,o){return o.indexOf(e)===t}))}function sortProjectsByTime(e,t){return t.time<e.time?1:t.time>e.time?-1:0}function generateProjectTimeLine(){ProjectsWorldMap.props.PROJECTS.sort(ProjectsWorldMap.methods.sortProjectsByTime),ProjectsWorldMap.methods.uniq(ProjectsWorldMap.props.PROJECTS,"time").forEach((function(e){var t=document.createElement("div");t.classList.add("time-line__swiper-slide"),t.onclick=function(){tippy.hideAll();var e=this.attributes["data-time"].value;document.querySelectorAll(ProjectsWorldMap.props.timelineCircleElem).forEach((function(t){-1===t.id.indexOf(e)&&t.classList.remove("active")}));var t=$(".c-time-line-box .date #time-line-"+e);t.toggleClass("active");var o=t.hasClass("active");ProjectsWorldMap.props.PROJECTS.forEach((function(t){o?t.time===parseInt(e)?t.active=o:t.active=!1:t.active=!0})),ProjectsWorldMap.methods.toggleProjectsVisibility()},t.setAttribute("data-time",e),t.innerHTML='<div class="timestamp time-line-circle"><span>circle</span></div>\n<div class="date"><span class="time-line-circle" id="time-line-'+e+'" >'+e+"</span></div>\n",document.getElementById("projectsTimeline").appendChild(t)}))}"loading"!==document.readyState?console.log("document is already ready, just execute code here"):(document.addEventListener("DOMContentLoaded",(function(){movingWaves(),console.clear(),configElements(),createNevDot(),navDotAnimation(),homeSlidesDragging(),newSize(),accardionContactForm(),$(document).ready((function(){configDropDowns(),configSlider()})),loadProjectsWorldMap(),loadParticles()})),configPopups(),musicHowler()),function(){var e=document.querySelector('input[name="datepicker"]'),t=$("#hour input"),o=$("#minute input"),n=$(".time-switcher span"),i=document.getElementById("datePlaceholder"),r="",s="AM",a=new Datepicker(e,{buttonClass:"btn",autohide:!0,calendarWeeks:!1,clearBtn:!1,nextArrow:'<img src="images/next.svg"/>',prevArrow:'<img src="images/pre.svg"/>',todayHighlight:!0,format:{toValue:function(e,t,o){return e},toDisplay:function(e,t,o){return e}}}),c=function(){var e=t.val(),n=o.val(),c=a.getDate()||new Date,l=a.config.locale.daysShort[c.getDay()],d=a.config.locale.monthsShort[c.getMonth()];r=l+" "+d+" "+c.getDate()+"/"+c.getFullYear();var u=e+":"+n+" "+s;i.innerHTML='<img src="/images/date.svg"><span id="selectedDate">'+r+'</span><span id="dateDivider">|</span><img src="/images/clock.svg"><span id="selectedTime">'+u+"</span>"};$("#datePlaceholder").click((function(){a.active?a.hide():a.show()})),a.element.addEventListener("show",(function(e){var i,s;r||(i=new Date,s=i.getHours(),t.val(s>12?s-12:s),o.val(i.getMinutes()),n.removeClass("active"),s>12?n.last().addClass("active"):n.first().addClass("active"))})),a.element.addEventListener("changeDate",(function(e){c()}));var l=document.getElementById("timePicker");l.style.display="block",document.getElementsByClassName("datepicker").item(0).append(l),t.click((function(){t.focus()})),t.keyup((function(){t.val()>12&&t.val(12),c()})),o.click((function(){o.focus()})),o.keyup((function(){o.val()>59&&o.val(59),c()})),n.click((function(){n.removeClass("active"),$(this).toggleClass("active"),s=$(this).attr("data-value"),c()}))}(),document.addEventListener("DOMContentLoaded",(function(){console.log("hello"),$(".u-nav__slider-icon").click((function(){$(".menu-hide").toggleClass("show")})),$(".menu-hide nav ul li").click((function(){$(".menu-hide").removeClass("show")})),$(".u-lang-swticher>ul>li").on("click",(function(e){$(".u-lang-swticher>ul>li").removeClass("selected"),$(this).addClass("selected")})),$("#theme-switch").on("click",(function(){$(this).is(":checked")?$(".o-logo__link img").attr("src","images/logo-dark.svg"):$(".o-logo__link img").attr("src","images/header-logo.svg")}))})),document.addEventListener("DOMContentLoaded",(function(){console.log("header")}));